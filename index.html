<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Αξιολογήσεις Εργοδοτών</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      color: #333;
    }

    .company-select, .review-form {
      max-width: 600px;
      margin: 20px auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }

    input, select, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    button {
      margin-top: 15px;
      padding: 10px 20px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #45a049;
    }

    .review-list {
      max-width: 600px;
      margin: 20px auto;
    }

    .review {
      background: white;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 10px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .stars {
      color: gold;
    }

    .delete-btn {
      margin-top: 10px;
      background: #e74c3c;
      border: none;
      color: white;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    .delete-btn:hover {
      background: #c0392b;
    }
  </style>
</head>
<body>

  <h1>Αξιολογήσεις Εργοδοτών</h1>

  <div class="company-select">
    <label for="company">Εταιρεία</label>
    <select id="company">
      <option value="Εταιρεία Α">Εταιρεία Α</option>
      <option value="Εταιρεία Β">Εταιρεία Β</option>
      <option value="Εταιρεία Γ">Εταιρεία Γ</option>
    </select>
  </div>

  <div class="review-form">
    <h2>Γράψε Αξιολόγηση</h2>
    <label for="rating">Βαθμολογία (1-5)</label>
    <select id="rating">
      <option value="1">1 - Κακή</option>
      <option value="2">2 - Μέτρια</option>
      <option value="3">3 - Καλή</option>
      <option value="4">4 - Πολύ καλή</option>
      <option value="5">5 - Εξαιρετική</option>
    </select>

    <label for="comment">Σχόλιο</label>
    <textarea id="comment" rows="4" placeholder="Περιέγραψε την εμπειρία σου..."></textarea>

    <button onclick="submitReview()">Υποβολή</button>
  </div>

  <div class="review-list" id="reviewList">
    <h2>Αξιολογήσεις</h2>
    <!-- Οι αξιολογήσεις θα εμφανιστούν εδώ -->
  </div>

  <script>
    function submitReview() {
      const company = document.getElementById('company').value;
      const rating = parseInt(document.getElementById('rating').value);
      const comment = document.getElementById('comment').value.trim();

      if (!comment) {
        alert("Το σχόλιο δεν μπορεί να είναι κενό.");
        return;
      }

      const review = {
        id: Date.now(),
        company,
        rating,
        comment,
        date: new Date().toLocaleDateString('el-GR')
      };

      const reviews = JSON.parse(localStorage.getItem('reviews') || '[]');
      reviews.push(review);
      localStorage.setItem('reviews', JSON.stringify(reviews));

      document.getElementById('comment').value = '';
      showReviews();
    }

    function deleteReview(id) {
      let reviews = JSON.parse(localStorage.getItem('reviews') || '[]');
      reviews = reviews.filter(r => r.id !== id);
      localStorage.setItem('reviews', JSON.stringify(reviews));
      showReviews();
    }

    function showReviews() {
      const company = document.getElementById('company').value;
      const reviews = JSON.parse(localStorage.getItem('reviews') || '[]');
      const reviewList = document.getElementById('reviewList');
      const filtered = reviews.filter(r => r.company === company);

      reviewList.innerHTML = '<h2>Αξιολογήσεις</h2>';

      if (filtered.length === 0) {
        reviewList.innerHTML += '<p>Δεν υπάρχουν ακόμα αξιολογήσεις για αυτήν την εταιρεία.</p>';
        return;
      }

      filtered.reverse().forEach(r => {
        const div = document.createElement('div');
        div.className = 'review';
        div.innerHTML = `
          <div class="stars">Βαθμολογία: ${'★'.repeat(r.rating)}${'☆'.repeat(5 - r.rating)}</div>
          <p>${r.comment}</p>
          <small>Ημερομηνία: ${r.date}</small>
          <br/>
          <button class="delete-btn" onclick="deleteReview(${r.id})">Διαγραφή</button>
        `;
        reviewList.appendChild(div);
      });
    }

    document.getElementById('company').addEventListener('change', showReviews);

    showReviews();
  </script>

</body>
</html>
